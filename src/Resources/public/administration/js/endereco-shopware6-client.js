(this.webpackJsonp=this.webpackJsonp||[]).push([["endereco-shopware6-client"],{"0aYq":function(e,t){e.exports='<div>\n    <sw-button-process\n            :isLoading="isLoading"\n            :processSuccess="isSaveSuccessful"\n            @process-finish="saveFinish"\n            @click="check"\n    >{{ $tc(\'endereco-api-check-button.button\') }}</sw-button-process>\n</div>\n'},"cd+c":function(e){e.exports=JSON.parse('{"endereco-api-check-button":{"title":"API Pr端fung","success":"Verbindung wurde erfolgreich gepr端ft","error":"Verbindung konnte nicht hergestellt werden. Bitte pr端fe den API Key und die Server URL","button":"Verbindung zum Endereco Server pr端fen"}}')},dTJ3:function(e){e.exports=JSON.parse('{"endereco-api-check-button":{"title":"API Check","success":"Connection was successfully tested","error":"Connection could not be established. Please check the api key and the server url","button":"Test API connection"}}')},nMqF:function(e,t,n){"use strict";n.r(t);n("rVin");var i=n("0aYq"),c=n.n(i);const{Component:s,Mixin:o}=Shopware;s.register("endereco-api-check-button",{template:c.a,props:["label"],inject:["enderecoSW6ClientAPITest"],mixins:[o.getByName("notification")],data:()=>({isLoading:!1,isSaveSuccessful:!1}),computed:{pluginConfig(){let e=this.$parent;for(;void 0===e.actualConfigData;)e=e.$parent;return e.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.isLoading=!0,this.enderecoSW6ClientAPITest.check(this.pluginConfig).then((e=>{e.success?(this.isSaveSuccessful=!0,this.createNotificationSuccess({title:this.$tc("endereco-api-check-button.title"),message:this.$tc("endereco-api-check-button.success")})):this.createNotificationError({title:this.$tc("endereco-api-check-button.title"),message:this.$tc("endereco-api-check-button.error")}),this.isLoading=!1}))}}});var r=n("cd+c"),a=n("dTJ3");Shopware.Locale.extend("de-DE",r),Shopware.Locale.extend("en-GB",a)},rVin:function(e,t){const n=Shopware.Classes.ApiService,{Application:i}=Shopware;class c extends n{constructor(e,t,n="endereco-shopware6-client"){super(e,t,n)}check(e){const t=this.getBasicHeaders({});return this.httpClient.post(`_action/${this.getApiBasePath()}/verify`,e,{headers:t}).then((e=>n.handleResponse(e)))}}i.addServiceProvider("enderecoSW6ClientAPITest",(e=>{const t=i.getContainer("init");return new c(t.httpClient,e.loginService)}))}},[["nMqF","runtime"]]]);
